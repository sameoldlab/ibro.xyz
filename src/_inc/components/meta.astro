---
export interface Props {
	title: string
	description?: string
	type?:
		| 'website'
		| {
				published_time: Date
				modified_time: Date
				tags: string[]
		  }
	image?: {
		url: string
		url_fallback?: string
		width: number
		height: number
	}
}
const {
	title = 'ibro.xyz',
	description = 'Experiments, exploration, bean-feuled execution',
	type = 'website',
	image = {
		url: '/img/light_ortho001.webp',
		width: 2048,
		height: 1152,
	},
} = Astro.props
---

<meta property='og:title' content={title} />
<meta property='og:url' content={'https://'+Astro.site?.hostname + Astro.url?.pathname} />
<meta property='og:description' content={description} />
<meta name='description' content={description} />
<meta property='og:site_name' content='ibro.xyz'/>
{
	type === 'website' ? (
		<meta property='og:type' content={type} />
		) : (
		<meta property='og:type' content='article' />
		<meta property="article:published_time" content={type.published_time.toISOString()}>
		<meta property="article:modified_time" content={type.modified_time.toISOString()}/>
	)
}

{
	typeof type !== 'string' && type.tags.map( tag =>
	<meta property="article:tag" content={tag}/>)
}

<meta property='og:image' content={image.url} />
<meta property="og:image:type" content="image/webp" />
<meta name='twitter:card' content='summary_large_image' />
<meta property='og:image:width' content={`${image.width}`} />
<meta property='og:image:height' content={`${image.height}`} />

<meta name='twitter:title' content={title} />
<meta name='twitter:site' content='@sameoldlab' />
<meta name='twitter:creator' content='@sameoldlab' />
<meta name='twitter:image' content={image.url} />
<meta name='twitter:description' content={description} />